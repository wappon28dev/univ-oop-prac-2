オブジェクト指向プログラミング及び演習２　第２回グループワーク

**学籍番号・氏名：** K24132 町田 渉

**参照したプログラムの作者（学籍番号・氏名）：** X24066 中島 朝登

**プログラムへのコメント：**

## 1. 課題内容を正しく理解できているか？

ここにプログラムの説明を並べる：

1. 初期設定（L29-33）
   L29 で Hero クラスのインスタンス `hero1`（愛知太郎）を作成している. 引数に `hp` を与えていないので, `__DEFAULT_HP` の `100` が `hero1` の `hp` の値となる.
   L30 で Hero クラスのインスタンス `hero2`（愛知花子）を作成している. 引数に `hp=200` を指定しているので, `hero2` の `hp` は `200` となる.

1. 最初のデバフ効果（L55）
   L55 の

   ```py
   Hero.buf_status['hp'] = -10
   ```

   によって, `buf_status` の `hp` の値が `-10` に変更される. `buf_status` は `getHP` メソッドで, `self.hp + Hero.buf_status["hp"]` のように参照されており, `hero1` の `hp` は `90`（100-10）, `hero2` の `hp` は `190`（200-10）となる.

1. 魔法使いへの転職（L59-62）
   L59 で `hero1` を Magician クラスのインスタンスに変更している. この時, 元の `hero1` の `hp` を `getHP()` で取得して新しいインスタンスの `hp` として設定している（90）. さらに `mp=150` が追加される.
   L61 で `heros` リストの最初の要素を新しい `Magician` インスタンスで更新している.

1. 2 回目のデバフ効果（L67）
   L67 で `Hero.buf_status['hp'] = -30` に変更される. これにより `hero1`（Magician）の `hp` は `60`（90-30）, `hero2` の `hp` は `170`（200-30）となる.

1. 個別のデバフ効果（L73）
   L73 で `hero1.buf_status['hp'] = -60` を設定している. ここで注意すべきは, `buf_status` はクラス変数なので, すべての `Hero` / `Magician` インスタンスに影響する. そのため `hero1` の `hp` は `30`（90-60）, `hero2` の `hp` は `140`（200-60）となる.

1. デストラクタの実行（L78-80）
   L78, L80 で `del` を使ってインスタンスを削除している. この時, `__del__` メソッドが呼ばれ, HP > 0 なので「一時パーティー離脱」メッセージが表示される.

## 2. 他人に見てもらいやすいように書かれているか？

書かれていると思う. 今回の変更箇所では, 左辺が自明であるので, コメントは不要かと思われるが, 元のファイルのコメントの粒度に合わせてコメントを書くか否かを判断できると良いと思った.

また, バフがマジックナンバーになっているので, もし余裕があれば, 影響させたオブジェクトの近くに定数として定義しても良いかもしれない.

## 3. その他気づいたこと

L3 の `print_heros` 関数のコメントが以下のように変更されていた.

```diff
- ヒーローのリストを受け取り，1人ずつ表示する関数
+ ヒーローのリストを受け取り,1人ずつ表示する関数
```

特に問題は無いが, 小さな変更でもそこから意図を汲み取られてしまうことがあるので, ⚠ すると良いと思った.
